<!doctype html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="{$Project->getAttribute('lang')}"> <![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="{$Project->getAttribute('lang')}"> <![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="{$Project->getAttribute('lang')}"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--><html lang="{$Project->getAttribute('lang')}"> <!--<![endif]-->
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1,maximum-scale=1" />

    {$Template->getHeader()}

    <link href='https://fonts.googleapis.com/css?family=Raleway:400,700,300' rel='stylesheet' type='text/css'>

    {assign var=layoutType value=$Template->getLayoutType()}
    {assign var=headerSuffixBricks value=$BricksManager->getBricksByArea('headerSuffix', $Site)}
    {assign var=footerPrefixBricks value=$BricksManager->getBricksByArea('footerPrefix', $Site)}

    <!--[if (lt IE 9) & (!IEMobile)]>
        <link rel="stylesheet" href="{$URL_TPL_DIR}bin/css/unsemantic/ie.css" />
    <![endif]-->

    <!-- [begin] css combine -->
        {fontawesome}
        {unsemantic}
        <link href="{$URL_TPL_DIR}bin/css/style.css" rel="stylesheet" type="text/css" />

        {if $quiTplType && $quiTplType == 'rightSidebar'}
            <link href="{$URL_TPL_DIR}bin/types/rightSidebar.css" rel="stylesheet" type="text/css" />
        {/if}

        {if $quiTplType && $quiTplType == 'leftSidebar'}
            <link href="{$URL_TPL_DIR}bin/types/leftSidebar.css" rel="stylesheet" type="text/css" />
        {/if}
    <!-- [end] css combine -->

    <style>

        /**
         * Farbeinstellungen
         */

        .content-switcher-content h1{
            color: {$colorMain};
        }

        body {
            background: {$colorBackground};
            color: {$colorMainContentFont} !important;
        }

        .main-content-color-bg {
            background-color: {$colorMainContentBg};
        }

        a,
        .fa-navicon:hover {
            color: {$colorMain};
        }

        a:hover {
            background: {$colorMain};
            box-shadow: 0 0 0 5px {$colorMain};
            color: {$colorMain};
        }


        .page-header-navigation-sub-entry-link:hover{
            background: {$colorMain};
        }

        button:hover,
        .button-active,
        .button:active,
        .button:hover {
            background: {$colorMain};
            color: #FFFFFF;
        }

        .page-footer button {
            background: {$colorMain};
            color: #ffffff;
        }

        .page-footer {
            background: {$colorFooterBackground};
            color: {$colorFooterFont} !important;
        }

        .page-footer header,
        .page-footer header a {
            color: #ffffff;
        }

        .page-footer h2,
        .page-footer h3,
        .page-footer h4 {
            color: {$colorFooterFont};
        }

        footer a {
            color: {$colorFooterLinks};
        }

        footer a:hover {
            color: {$colorFooterLinks};
        }

        .quiqqer-sheets-desktop a:hover {
            border: 1px solid {$colorMain} !important;
        }

        .control-background-active {
            background: {$colorMain} !important;
            color: #FFFFFF !important;
        }


        /**
         * Position des MenÃ¼s
         */

        {if $navPos == 'scroll'}
            .header-bar {
                position: relative !important;
            }
            .body-container-padding {
                padding-top: 0;
            }

        {/if}


        /**
         * Hintergrundbild
         */

        {if $Background}
        body {
            background-image : url('{$Background->getSizeCacheUrl()}') !important;
            background-attachment: fixed;
            -webkit-background-size: cover;
            background-size: cover;
        }
        {/if}


        /**
         * Seitenbreite
         */

        {if $fullsize == false}
            .main-body {
                display: block !important;

                max-width: {$pageMaxWidth}px;
                margin: 0 auto;
            }
            .header-bar {
                max-width: {$pageMaxWidth}px;
            }

            .grid-container {
                max-width: {$pageMaxWidth}px;
            }

            .page-box-prefix-suffix {
                padding: 30px 0;
            }

            /* Damit es kein Scrollbar angezeigt wird, wenn Browser kleiner als max-width */

            {if $fullsize == false && $navPos == 'fix'}
                .header-bar {
                    width: 100%;
                }
            {/if}

        {else}
            .header-bar {
                width: 100%;
            }
        {/if}


        /**
         * Schatten anzeigen (funktioniert noch nicht)
         */

        {if $shadow == 'display'}
            .main-body {
                box-shadow: 0 0 10px 5px rgba(0, 0, 0, 0.3) !important;
            }
        {/if}


        {if $bgColorSwitcher == 'display'}
        .brick-even {
            background: #f5f5f5;
        }

        .brick-odd {
            background: #e5e5e5;
        }
        {/if}

    </style>


</head>
<body>

<div class="main-body">

    <div class="header-bar grid-content">
        <div class="grid-container grid-parent header-bar-inner">

            <div class="header-bar-inner-logo grid-50">
                {if $logo}
                <a href="{url id=1}" class="page-header-logo">
                    {image src=$logo width=600 class="page-header-logo-img"}
                </a>
                {else}
                <h1>
                    {$Site->getAttribute( 'title' )}
                </h1>
                {/if}
            </div>

            <nav class="nav-box grid-50">
                <span style="font-size: 22px; display: flex; align-items: center; margin-right: 20px"></span>
                <i class="fa fa-navicon" style="font-size: 40px; display: flex; align-items: center; cursor: pointer;"></i>
            </nav>

            <div class="header-bar-inner-nav grid-parent grid-50" id="navigation">

                {assign var=FirstChild value=$Project->firstChild()}
                {assign var=children value=$FirstChild->getNavigation()}
                {if count($children)}
                <nav class="page-header-navigation">

                    <ul>
                        {if $Site->getId() != 1 && !$FirstChild->getAttribute('nav_hide')}
                        <li>
                            <i class="fa fa-fw fa-home fa-home-mobile"></i>
                            <a href="{url site=$FirstChild}"
                               class="page-header-navigation-entry-link">
                                <i class="fa fa-fw fa-home fa-home-desktop"></i>
                                {$FirstChild->getAttribute('title')}
                            </a>
                        </li>
                        {/if}
                        {foreach from=$children item=Child}
                        <li class="page-header-navigation-entry">

                            {assign var=subnavigation value=$Child->getNavigation()}

                             <i class="fa fa-fw fa-chevron-down fa-chevron-down-mobile"
                                style="{if !count( $subnavigation )}opacity: 0; color: rgba(0;0;0;0); cursor: default;{/if}">
                             </i>


                            <a href="{url site=$Child}"
                               class="page-header-navigation-entry-link">

                                {$Child->getAttribute('title')}



                                {assign var=subnavigation value=$Child->getNavigation()}

                                {if count( $subnavigation )}
                                <i class="fa fa-fw fa-chevron-down fa-chevron-down-desktop"></i>
                                {/if}

                            </a>

                            <!-- submenu -->
                            {if count( $subnavigation )}
                            <div class="page-header-navigation-sub smooth">
                                <ul class="page-header-navigation-sub-list">
                                    {foreach from=$subnavigation item=subChild}
                                    <li class="page-header-navigation-sub-entry">
                                        <a href="{url site=$subChild}"
                                           class="page-header-navigation-sub-entry-link"
                                                >
                                            {$subChild->getAttribute('title')}
                                        </a>
                                    </li>
                                    {/foreach}
                                </ul>
                            </div>
                            {/if}
                        </li>
                        {/foreach}
                    </ul>
                </nav>



                {/if}
            </div>
        </div>
    </div>

    <!-- page -->
    <div class="body-container {if $noHeader}body-container-padding{/if}">

        <!-- header -->

        <header class="grid-100 mobile-grid-100 page-header"
            {if $Site->getAttribute('image_emotion')}
            {image src=$Site->getAttribute('image_emotion') assign=image_emotion rewrited=true onlysrc=true}
                style="background-image: url('{$image_emotion}');
                background-attachment: fixed;
                background-position: bottom center;
                background-size: cover;
                background-repeat: no-repeat;
                {if $noHeader}display: none;{/if}
            "
            {else}
                style="background-image: none;"
                {if $noHeader}display: none;{/if}
            {/if}
        >

        </header>

        <!-- header suffix -->
        {assign var=headerSuffix value=$BricksManager->getBricksByArea('headerSuffix', $Site)}
        {foreach $headerSuffix as $Brick}


        {if $Brick->getType() == 'QUI\Gallery\Controls\Slider' || $Brick->getType() == 'QUI\Slider\Controls\SliderNivo'}

            {if $fullsize}
                <div class="full-size {cycle values="brick-even,brick-odd"}">
            {else}
                <div class="{cycle values="brick-even,brick-odd"}">
            {/if}
                <section class="clearfix">
                    {$Brick->create()}
                </section>
            {if $fullsize}
                </div>
            {else}
                </div>
            {/if}

        {else}

            {if $fullsize}
                <div class="full-size {cycle values="brick-even,brick-odd"}">
                <div class="grid-container">
            {else}
                <div class="grid-container {cycle values="brick-even,brick-odd"}">
            {/if}
                <section class="mobile-grid-100 grid-100 page-content grid-parent page-box-prefix-suffix">
                    {if !$Brick->hasCSSClass('grid*')}
                        {$Brick->addCSSClass('grid-100')}
                    {/if}
                    {$Brick->create()}
                </section>
            {if $fullsize}
                </div>
                </div>
            {else}
                </div>
            {/if}

        {/if}
        {/foreach}


        <!-- content -->
        {if $fullsize}
            <div class="main-content-color-bg full-size {cycle values="" reset=true}">
            <div class="grid-container">
        {else}
            <div class="main-content-color-bg grid-container">
        {/if}

        {$Template->getLayout()}

        {if $fullsize}
            </div>
            </div>
        {else}
            </div>
        {/if}



        <!-- footer prefix-->
        {cycle assign=cy values="brick-even,brick-odd" reset=true}
        {assign var=footerPrefix value=$BricksManager->getBricksByArea('footerPrefix', $Site)}
        {foreach $footerPrefix as $Brick}

        <!-- Wenn google map, dann volle Breite -->
        {if $Brick->getType() == 'QUI\Bricks\Controls\GoogleMaps'}

            {if $fullsize}
                <div class="full-size {cycle values="brick-even,brick-odd"}">
            {else}
                <div class="{cycle values="brick-even,brick-odd"}">
            {/if}
                <section class="clearfix">
                    {$Brick->create()}
                </section>
            {if $fullsize}
                </div>
            {else}
                </div>
            {/if}

        {else}

            {if $fullsize}
                <div class="full-size {cycle values="brick-even,brick-odd"}">
                <div class="grid-container">
            {else}
                <div class="grid-container {cycle values="brick-even,brick-odd"}">
            {/if}

                <div class="page-content">
                    <section class="mobile-grid-100 grid-100 grid-parent page-box-prefix-suffix">
                        {if !$Brick->hasCSSClass('grid*')}
                        {$Brick->addCSSClass('grid-100')}
                        {/if}
                        {$Brick->create()}
                    </section>
                </div>

            {if $fullsize}
                </div>
                </div>
            {else}
                </div>
            {/if}
        {/if}
        {/foreach}


        <!-- footer -->
        <footer class="page-footer">
            <div class="grid-container">
                {assign var=footer value=$BricksManager->getBricksByArea('footer', $Site)}
                {if !empty($footer)}
                <div class="grid-100 mobile-grid-100 grid-parent">
                    {foreach from=$footer item=Brick}
                        {$Brick->addCSSClass('page-footer-brick')}
                        {$Brick->create()}
                    {/foreach}
                </div>
                {else}
                <div class="page-footer-copyright">
                    <div class="">
                        {locale group="quiqqer/template-basiccompany" var="copyright.text" year=$smarty.now|date_format:"%Y"}
                    </div>
                </div>
                {/if}
            </div>
        </footer>
    </div>
</div>

    <!-- [begin] js combine -->
    <script src="{$URL_OPT_DIR}bin/require.js"></script>
    <script src="{$URL_TPL_DIR}bin/init.js"></script>


    <!-- [end] js combine -->

    <!-- Start Piwik Code -->

    <!-- End Piwik Code -->

</body>
</html>
